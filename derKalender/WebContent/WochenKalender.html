<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="style.css" type="text/css">
		<title>Wochen Kalender</title>
		<script src="Kalender.js"> </script>
		<script type="text/javascript">
		var d = new Date();
		var m = d.getMonth() + 1;
		var y = d.getYear() + 1900;
		
		Monatsname = new Array("Januar", "Februar", "März", "April", "Mai", "Juni","Juli", "August", "September", "Oktober", "November", "Dezember");
		Wochentag = new Array("Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag", "Sonntag");
		Gruppenmitglieder =new Array("Person 1","Person 2","Person 3","Person 4","Person 5","Person 6","Person 7");
		
		function background(id){
			if(document.getElementById(id).innerHTML=="Neptune"){
				document.getElementById('kalender').style.backgroundImage = "url('img/Neptune.png')";
			}
			else if(document.getElementById(id).innerHTML=="Star-Wars Clone"){
				document.getElementById('kalender').style.backgroundImage = "url('img/Star-Wars_Clone.jpg')";
			}
		}
		function WochenKalender(Tag, Monat, Jahr) {
			var jetzt = new Date();		// aktuelles Datum
			var DieserMonat = jetzt.getMonth() + 1;
			var DiesesJahr = jetzt.getYear() + 1900;
			var DieserTag = jetzt.getDate();
			
			var Zeit = new Date(Jahr, Monat - 1, tag);
			var Start = Zeit.getDay();		//Wochentag 
			if (Start > 0) {
				Start--;
			} else {
				Start = 6;}
						//Monatswechsel
			var monatsende = 31;
			if (Monat == 4 || Monat == 6 || Monat == 9 || Monat == 11) --monatsende; // April(4), Juni(6), September(9), November(11) 30 Tage
			if (Monat == 2) {	//Februar(2)
				monatsende = monatsende - 3;
				if (Jahr % 4 == 0) monatsende++;	//Schaltjahren
				if (Jahr % 100 == 0) monatsende--;
				if (Jahr % 400 == 0) monatsende++;
			}
			var date = new Date(y,m-1,d);				//KalenderWoche
			var currentThursday = new Date(date.getTime() +(3-((date.getDay()+6) % 7)) * 86400000);
			var yearOfThursday = currentThursday.getFullYear();
			var firstThursday = new Date(new Date(yearOfThursday,0,4).getTime() +(3-((new Date(yearOfThursday,0,4).getDay()+6) % 7)) * 86400000);
						
			var kW = Math.floor(1 + 0.5 + (currentThursday.getTime() - firstThursday.getTime()) / 86400000/7);
			
			var tabelle = document.getElementById('kalender');
			if(tabelle.rows.length >0){		//Tabellen inhalt löschen
				for(var i = 0; 0 != tabelle.rows.length; i++){
					tabelle.deleteRow(0);
				}
			}
			var Kopf = Monatsname[Monat-1] + " " + Jahr + "\n"+kW+"KW";	//Tabellenüberschrift
			var caption = tabelle.createCaption();
			caption.innerHTML = Kopf;
			
			var zeile = tabelle.insertRow(0);		//Tabellenkopf
			zeile.className = 'thead';
			var cells = zeile.insertCell(0);
			cells.innerHTML = "Zeit";
			for (var i = 0; i <= 6; i++) {
				var cells = zeile.insertCell(i+1);
				cells.innerHTML = Gruppenmitglieder[i];
			}
			cells = zeile.insertCell(2+ Gruppenmitglieder.length);
			cells.innerHTML = "KW";//"Kalenderwoche";
			
			var Tageszahl = 1;
			for (var i = 0; i < 23; i++) {		//Tabellenbody
				var zeile = tabelle.insertRow(i+1);
				
				zeile.className = 'kalendertag';	
				cells = zeile.insertCell(0);
				cells.innerHTML = Tageszahl;	//Datum
				
				cells = zeile.insertCell(1);
				var wt= Wochentag[(Start+Tageszahl-1)%7];		//Wochentag
				cells.innerHTML = wt;
				
				if (wt=="Samstag" || wt=="Sonntag") {
					zeile.className = zeile.className +' wochenende';
				}
				if ((Jahr == DiesesJahr) && (Monat == DieserMonat) && (Tageszahl == DieserTag)) {
					zeile.className = zeile.className + ' heute';
				}
				for (var j = 0; j <= Gruppenmitglieder.length-1; j++) {		//Zellen der Gruppenmitglieder
					cells = zeile.insertCell(j+2);
					cells.innerHTML = ' ';
				}
				Tageszahl++;
			}
		}
		function Wochen_wechsel(vor){
			//tabellen inhalt löschen
				if(vor){
					d = d+7;
					if(d > monatsende){
						m =m+1;
						if(m==13){
							m =1;
							y =y+1;
					}
				}
				else{
					d = d-7;
					if(d < monatsende){
						m =m-1;
						if(m==0){
							m =12;
							y =y-1;
					}
				}
				WochenKalender(d, m, y);
			}
		</script>
	</head>
	<body>
		<div>
			<header class= header_hintergrund>
				<img src="img/schriftzug.png" alt="Logo" class="logo">
			</header>
			<nav>
				<section class=kasten>
					<header>
						<h1>Home</h1>
					</header>
					<hr>
					<div>							
						<a href="Eventübersicht.html">Event Übersicht</a><br>
						<a href="index.html">mein Kalender</a><br>
					</div>
				</section>
				<section class=kasten>
					<header>
						<h1>Ansicht</h1>
					</header>
					<hr>
					<div>
						<a href="MonatsKalender.html">Monats Ansicht</a><br>
						<a href="JahresKalender.html">Jahres Ansicht</a><br>
					</div>
				</section>
				<section class=kasten>
					<header>
						<h1>Kalender Hintergrund</h1>
					</header>
					<hr>
					<div>
						<a onclick="SetzeInhalt('neptune')" id="neptune">Neptune</a><br>
						<a onclick="SetzeInhalt('Star-Wars Clone')" id="Star-Wars Clone">Star-Wars Clone</a>
					</div>
				</section>
			</nav>
			<inhalt>
				<div class=pfeile>
					<div id=pfeil_zurueck>
						<a onclick="Wochen_wechsel(false)" href="#">
							<img src="img/icon/left.png" title="letzte Woche">
							letzte Woche
						</a>
					</div>
					<div id=pfeil_vor>
						<a onclick="Wochen_wechsel(true)" href="#">
							nächste Woche
							<img src="img/icon/right.png" title="nächste Woche">
						</a>
					</div>						
				</div>
				<div class=kasten>
					<table id=kalender align="center" >
						<caption title="Januar 2018" style="font-size: 30px;">
							<b>Monatsname[m]&nbsp;y</b><br>
							<b>KW&nbsp;1</b>
						</caption>
						<thead>
							<tr style="background-color: #28b2ff24;">
								<th width=50, title="Uhrzeit">Zeit</th>
								<th width=100, title="01.01.2018"><b>Montag</b></th>
								<th width=100, title="02.01.2018"><b>Dienstag</b></th>
								<th width=100, title="03.01.2018"><b>Mittwoch</b></th>
								<th width=100, title="04.01.2018"><b>Donnerstag</b></th>
								<th width=100, title="05.01.2018"><b>Freitag</b></th>
								<th width=100, title="06.01.2018"><b>Samstag</b></th>
								<th width=100, title="07.01.2018"><b>Sonntag</b></th>
							</tr>
						</thead>
						<tbody style="background-color: #28b2ff24;">
							<tr>
								<td>00:00</td>
								<td style= "background-color: #00118045;">&nbsp;</td>
								<td style= "background-color: #00118045;">&nbsp;</td>
								<td style= "background-color: #00118045;">&nbsp;</td>
								<td style= "background-color: #00118045;">&nbsp;</td>
								<td style= "background-color: #00118045;">&nbsp;</td>
								<td style= "background-color: #00118045;">&nbsp;</td>
								<td style= "background-color: #00118045;">&nbsp;</td>
							</tr>
							<tr>
								<td>01:00</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
							</tr>
							<tr>
								<td>02:00</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
							</tr>
							<tr>
								<td>03:00</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
							</tr>
							
							<tr>
								<td>04:00</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
							</tr>
							<tr>
								<td>05:00</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
							</tr>
							<tr>
								<td>06:00</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
							</tr>
							<tr>
								<td>07:00</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
							</tr>
							<tr>
								<td>08:00</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
							</tr>
							<tr>
								<td>09:00</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
							</tr>
							<tr>
								<td>10:00</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
							</tr>
							<tr>
								<td>11:00</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
								<td style="background-color:#009b0a54;">&nbsp;</td>
							</tr>
							
							<tr>
								<td>12:00</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
							</tr>
							<tr>
								<td>13:00</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
							</tr>
							<tr>
								<td>14:00</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
							</tr>
							<tr>
								<td>15:00</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
							</tr>
							<tr>
								<td>16:00</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
							</tr>
							<tr>
								<td>17:00</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
							</tr>
							<tr>
								<td>18:00</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
							</tr>
							<tr>
								<td>19:00</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
								<td style="background-color: #de6a0c45;">&nbsp;</td>
							</tr>
							
							<tr>
								<td>20:00</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
								<td style="background-color:#00118045;">&nbsp;</td>
							</tr>
							<tr>
								<td>21:00</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
							</tr>
							<tr>
								<td>22:00</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
							</tr>
							<tr>
								<td>23:00</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
								<td style="background-color:#00009b47;">&nbsp;</td>
							</tr>
						</tbody>
					</table>
					<script type="text/javascript">
						WochenKalender(d, m, j);
					</script>
				</div>
				<div class=pfeile>
					<div id=pfeil_zurueck>
						<a onclick="Wochen_wechsel(false)" href="#">
							<img src="img/icon/left.png" title="letzte Woche">
							letzte Woche
						</a>
					</div>
					<div id=pfeil_vor>
						<a onclick="Wochen_wechsel(true)" href="#">
							nächste Woche
							<img src="img/icon/right.png" title="nächste Woche">
						</a>
					</div>					
				</div>
				<br>
				<br>
			</inhalt>
		</div>
	</body>
</html>