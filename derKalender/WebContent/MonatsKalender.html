<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="style.css" type="text/css">
		<title>Monats Kalender</title>
		<script src="Kalender.js"> </script>
		<script type="text/javascript">
		var d = new Date();
		var m = d.getMonth() + 1;
		var y = d.getYear() + 1900;
		Gruppenmitglieder =new Array("Person 1","Person 2","Person 3","Person 4","Person 5","Person 6","Person 7");
		
		function background(id){
			if(document.getElementById(id).innerHTML=="Neptune"){
				document.getElementsById('kalender').style.backgroundImage = "url('img/Neptune.png')";
			}
			else if(document.getElementById(id).innerHTML=="Star-Wars Clone"){
				document.getElementsById('kalender').style.backgroundImage = "url('img/Star-Wars_Clone.jpg')";
			}
		}
		
		function Kalender(){
			var tabelle = document.getElementById('kalender');
			var Kopf = m +"."+ y;	//Tabellenüberschrift
			var caption = tabelle.createCaption();
			caption.innerHTML = Kopf;
			
			var row = tabelle.insertRow(0);		//Tabellenkopf
			var cell = row.insertCell(0);
			cell.innerHTML = "Datum";
			var cell = row.insertCell(1);
			cell.innerHTML = "Wochentag";
			for (var i = 0; i <= 6; i++) {
				var cell = row.insertCell(i+2);
				cell.innerHTML = Gruppenmitglieder[i];
			}
			for (var i = 0; i <= 32; i++) {
				var zeile = tabelle.insertRow(1 + i);
				for (var j = 0; j<= 7+2; j++) {
					var cell = zeile.insertCell(j);
					cell.innerHTML = ' ';
				}
			}
			var cell = row.insertCell(2+7);
			cell.innerHTML = "Kalenderwoche";
		}
		function MonatsKalender(Monat, Jahr) {
			Monatsname = new Array("Januar", "Februar", "März", "April", "Mai", "Juni","Juli", "August", "September", "Oktober", "November", "Dezember");
			Tag = new Array("Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag", "Sonntag");
			
			var jetzt = new Date();		// aktuelles Datum
			var DieserMonat = jetzt.getMonth() + 1;
			var DiesesJahr = jetzt.getYear() + 1900;
			var DieserTag = jetzt.getDate();
			
			var Zeit = new Date(Jahr, Monat - 1, 1);
			var Start = Zeit.getDay();		//Wochentag des ersten Tags im Monat
			if (Start > 0) {
				Start--;
			} else {
				Start = 6;}
			//Stop
			var ende = 31;
			if (Monat == 4 || Monat == 6 || Monat == 9 || Monat == 11) --ende; // April(4), Juni(6), September(9), November(11) 30 Tage
			if (Monat == 2) {	//Februar
				ende = ende - 3;
				if (Jahr % 4 == 0) ende++;		//Schaltjahren
				if (Jahr % 100 == 0) ende--;
				if (Jahr % 400 == 0) ende++;
			}
			var tabelle = document.getElementById('kalender');

			var Kopf = Monatsname[Monat-1] + " " + Jahr;	//Tabellenüberschrift
			var caption = tabelle.createCaption();
			caption.innerHTML = Kopf;
			
			var Tageszahl = 1;
			for (var i = 0; i < ende; i++) {		//Zeilen
				var zeile = tabelle.rows[i+1];
				var rows = tabelle.getElementsByTagName("tr");
				zeile.className = 'kalendertag';
				zeile.cells[0].innerHTML = Tageszahl;
				var wt= Tag[(Start+Tageszahl-1)%7];
				zeile.cells[1].innerHTML = wt;
				if (wt=="Samstag" || wt=="Sonntag") {
					zeile.className = zeile.className +' wochenende';
				}
				if ((Jahr == DiesesJahr) && (Monat == DieserMonat) && (Tageszahl == DieserTag)) {
					zeile.className = zeile.className + ' heute';
				}
				for (var j = 0; j <= 6; j++) {
					zeile.cells[j+2].innerHTML = ' ';
				}
				if (wt=="Montag"){
					var cell = zeile.cells[7+2].innerHTML;
					cell.rowspan="7";
					cell.className = cell.className +' wk';
				}
				Tageszahl++;
			}
			for (var i = Tageszahl; i <= 32; i++) {
				for (var j = 0; j <= 8; j++) {
					tabelle.rows[i].cells[j].innerHTML = ' ';
				}
			}
		}
		function Monat_wechsel(vor){
			//tabellen inhalt löschen
			if(vor){
				m = m+1;
				if(m==13){
					m =1;
					y =y+1;
				}
			}
			else{
				m = m-1;
				if(m==0){
					m =12;
					y =y-1;
				}
			}
			MonatsKalender(m, y);
		}
		</script>
	</head>
	<body>
		<div>
			<header class= header_hintergrund>
				<img src="img/schriftzug.png" alt="Logo" class="logo">
			</header>
			<nav>
				<section class=kasten>
					<header>
						<h1>Home</h1>
					</header>
					<hr>
					<div>							
						<a href="Eventübersicht.html">Alle Kalender</a><br>
						<a href="index.html">mein Kalender</a><br>
					</div>
				</section>
				<section class=kasten>
					<header>
						<h1>Ansicht</h1>
					</header>
					<hr>
					<div>
						<a href="WochenKalender.html">Wochen Ansicht</a><br>
						<a href="JahresKalender.html">Jahres Ansicht</a><br>
					</div>
				</section>
				<section class=kasten>
					<header>
						<h1>Kalender Hintergrund</h1>
					</header>
					<hr>
					<div>
						<a onclick="SetzeInhalt('neptune')" id="neptune">Neptune</a><br>
						<a onclick="SetzeInhalt('Star-Wars Clone')" id="Star-Wars Clone">Star-Wars Clone</a>
					</div>
				</section>
			</nav>
			<inhalt>
				<h1>Monat</h1>
				<div class=pfeile>
					<div id=pfeil_zurueck>
						<a onclick="Monat_wechsel(false)" href="#">
							<img src="img/icon/left.png" title="letzte Monat">
							letzte Monat
						</a>
					</div>
					<div id=pfeil_vor>
						<a onclick="Monat_wechsel(true)" href="#">
							nächste Monat
							<img src="img/icon/right.png" title="nächste Monat">
						</a>
					</div>					
				</div>
				<div class=kasten>
					<table id=kalender align="center" >
						<colgroup>
							<col span="2" style="background-color: #00008b87;">
							<col span="7" style="background-color: #00118045;">
							<col style="background-color: #00008b87;">
						</colgroup>
					</table>
					<script type="text/javascript">
						Kalender();
						MonatsKalender(m, j);
					</script>
				</div>
				<div class=pfeile>
					<div id=pfeil_zurueck>
						<a onclick="Monat_wechsel(false)" href="#">
							<img src="img/icon/left.png" title="letzte Monat">
							letzte Monat
						</a>
					</div>
					<div id=pfeil_vor>
						<a onclick="Monat_wechsel(true)" href="#">
							nächste Monat
							<img src="img/icon/right.png" title="nächste Monat">
						</a>
					</div>					
				</div>
				<br>
				<br>
			</inhalt>
		</div>
	</body>
</html>